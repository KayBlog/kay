[<< 返回到上级](index.md)

**这里将介绍点，向量，矩阵，线和曲线的基本知识点**  

点是最基础的元素，表示方式依赖坐标系，以下为笛卡尔坐标系的表示：  
在2d中表示`Point(x, y)`，在3d中表示`Point(x,y,z)`  
其中x,y,z表示坐标轴上的值。点在齐次坐标系下，最后一维是1     

向量是一个矢量。一般由两个点做差`v(x,y,z) = P1(x,y,z) - P2(x,y,z)`.一般点可以作为相对于原点的向量。向量的长度描述了两个点之间的距离，距离为各维度值的平方和开平方根。向量在齐次坐标系下，最后一维是0    

矩阵变换主要指图形学里的缩放，旋转和平移变换，对于线性代数的矩阵具有一定的特殊性，通常的表示方式会在齐次坐标系下描述。矩阵的存储分列存储和行存储。  

线主要有直线，线段和射线三类。直线和线段无方向，射线有方向。直线和射点的表示一般是点和方向描述，线段用两个点描述。  

曲线可看成是直线的一种扩展，没有固定的方向，故曲线一般在某个点上有切向或者法向。曲线的表示一般由多个点，并通过对点进行拟合得到一条曲线。    

**1. 向量**  
1. 求两点的距离  


2. 两个向量做点积，在一个单位方向上求投影长度或求cos余弦值，可以判断方向   


3. 两个向量做叉积，求面积或者求法线向量或者旋转轴，可以对有符号的面积值判断方向  

**2. 矩阵变换**  

两种旋转：主动旋转和被动旋转，在右手坐标系，正向旋转指逆时针旋转。      
主动旋转： 坐标系不变，向量旋转  
被动旋转：向量或点不变，坐标系旋转   
被动旋转相当于主动旋转的逆操作。比如主动旋转，v向量逆时针旋转theta,则变成v'向量。而被动旋转，坐标轴旋转theta(v保持不变)，可以想象，若v跟随坐标轴一起旋转，则就会变成v',若要保证v不变，则将v'旋转到v就可以。对于旋转矩阵，一般保持正交矩阵，正交矩阵求逆矩阵，只需要将矩阵求转置即可。  

旋转矩阵会构建成一个新的坐标空间，假设有一个坐标空间为m1, 另一个坐标空间为m2。则m1到m2 存在一个旋转矩阵m。若问题是一个物体在m1下表示为p.   
1. 这个p不变，在m2空间表示为多少，此时m旋转矩阵表示什么？  
2. 若另一个物体在m2空间也是p，那么两个物体都是p，他们之间的关系是什么，m表示什么？  
上面的两种情形就是两种旋转矩阵变换。问题一，m表示被动旋转；问题二，m表示主动旋转，两个p是通过m变换得到。  

平移变换也可以类似旋转来理解，需要清楚你的变换时针对坐标轴还是针对向量，那么变换矩阵就有所不同，互为逆操作。  

缩放变换在使用过程中，一般认为是主动缩放。  

在游戏世界中，局部坐标系与世界坐标系是主动变换，对点或者说是向量进行旋转和平移是主动变换，得到世界坐标系下的点；世界坐标系与相机空间的旋转和平移变换是被动变换，将世界坐标系中的点P在相机空间中表示为P’。  
通常情况下，主动变换对向量，被动对点操作  

1. 点绕坐标轴旋转  
2. 点绕任意轴旋转  
3. 一个向量到另一个向量的旋转  
4. 旋转矩阵，欧拉角和四元素  

**3. 曲线**  
主要介绍有理样条曲线，贝塞尔和Nurbs不做过多介绍  

BSpline曲线  


## **4. 线**  
介绍线的相交，点到线的距离和点是否在线上的判断  

**4.1 线与线相交**  

1. 直线与直线相交  
2. 直线与射线相交  
3. 直线与线段相交  
4. 射线与射线相交  
5. 射线与线段相交  
6. 线段与线段相交  

**4.2 点到线的距离**  

1. 点到直线的距离  
2. 点到射线的距离  
3. 点到线段的距离  


**4.3 点在线上** 
  
1. 点在直线上  
2. 点在射线上  
3. 点在线段上  


